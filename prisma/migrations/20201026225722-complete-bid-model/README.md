# Migration `20201026225722-complete-bid-model`

This migration has been generated by Rinat at 10/27/2020, 1:57:22 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."bids" ADD COLUMN "calorieContent" text   NOT NULL ,
ADD COLUMN "moisture" text   NOT NULL ,
ADD COLUMN "volatileMatterRelease" text   NOT NULL ,
ADD COLUMN "locationId" text   NOT NULL 

ALTER TABLE "public"."bids" ADD FOREIGN KEY ("locationId")REFERENCES "public"."locations"("id") ON DELETE CASCADE ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201026224750-add-relations-with-user..20201026225722-complete-bid-model
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 enum Role {
   BUYER
@@ -84,19 +84,23 @@
 model BidModel {
   id       String  @id @default(cuid())
-
   volume Float
   price Float
+  calorieContent String
+  moisture String
+  volatileMatterRelease String
   creatorId String
+  locationId String
   type BidType
   resourse Resourse
   coalMark CoalMark
   buyerDeal DealModel  @relation("buyer_bid_deals")
   sellerDeal DealModel @relation("seller_bid_deals")
   creator UserModel @relation(fields: [creatorId], references: [id])
+  location LocationModel @relation(fields: [locationId], references: [id])
   createdAt DateTime @default(now())
   @@map("bids")
```


